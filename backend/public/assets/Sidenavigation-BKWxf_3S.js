import{r as v,o as y,g as l,c as f,b as o,a as g,w as s,h as i,u as a,R as r,d as p,e as k,t as w}from"./index-DI2jpTHH.js";const h="/assets/tu-berlin-logo-C_l78clU.svg",C=(d,t)=>{const n=d.__vccOpts||d;for(const[u,c]of t)n[u]=c;return n},E={key:0},L={key:1,class:"sidenavigation"},x={class:"sidenavigation_header"},B={class:"sidenavigation_links"},N={class:"sidenavigation_footer"},S={class:"sidenavigation_userinfo"},T={__name:"Sidenavigation",setup(d){const t=v(null),n=v(!0),u="https://horus-290d.onrender.com";async function c(){try{const e=await(await fetch(`${u}/current-user`,{method:"GET",headers:{"Content-Type":"application/json"}})).json();e&&e.user&&(t.value=e.user)}catch(_){console.error("Error getting user data:",_)}finally{n.value=!1}}async function m(){console.log("in frontend logout function"),window.location.href="https://horus-290d.onrender.com/logout",setTimeout(()=>{window.location.href="https://horus-290d.onrender.com/login"},5e3)}return y(c),(_,e)=>n.value?(l(),f("div",E,"Lade Daten...")):(l(),f("div",L,[o("div",x,[e[6]||(e[6]=o("img",{class:"sidenavogation_logo",src:h,alt:"Logo TU Berlin"},null,-1)),o("div",B,[g(a(r),{class:"sidenavigation_link",to:"/"},{default:s(()=>e[1]||(e[1]=[i("Home")])),_:1}),g(a(r),{class:"sidenavigation_link",to:"/my_entries"},{default:s(()=>e[2]||(e[2]=[i("Meine Einträge")])),_:1}),g(a(r),{class:"sidenavigation_link",to:"/new_entry"},{default:s(()=>e[3]||(e[3]=[i("Neuen Eintrag")])),_:1}),t.value.role!=="Standard User"?(l(),p(a(r),{key:0,class:"sidenavigation_link",to:"/all_entries"},{default:s(()=>e[4]||(e[4]=[i("Alle Einträge")])),_:1})):k("",!0),t.value.role=="Controller"?(l(),p(a(r),{key:1,class:"sidenavigation_link",to:"/users"},{default:s(()=>e[5]||(e[5]=[i("Mitarbeitende verwalten")])),_:1})):k("",!0),o("div",{class:"sidenavigation_link",onClick:e[0]||(e[0]=U=>m())},"Logout")])]),o("div",N,[o("div",S,w(t.value.name),1)])]))}},V=C(T,[["__scopeId","data-v-bc60ae0e"]]);export{V as S,C as _};
