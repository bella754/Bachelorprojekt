import{r as u,o as P,c as s,a as j,b as c,t as p,F as f,i as E,p as L,_ as l,g as r,e as V,k as d,n as R,m as _}from"./index-LsO6dzp2.js";import{_ as U,S as A}from"./Sidenavigation-BB9BGPdg.js";const N={class:"form_container"},F={class:"form_headline"},B={class:"form"},w=["for"],x={key:0,class:"form_description"},z=["id","onUpdate:modelValue"],S=["value"],q=["id","onUpdate:modelValue","placeholder"],M=["id","onUpdate:modelValue"],C=["id","onUpdate:modelValue","placeholder"],Z=["id","onUpdate:modelValue"],$=["id","onUpdate:modelValue"],J={__name:"Form",setup(K){const b=L(),I=u(b.query.userID),v=u(b.query.activityTitle),a=u({}),o=u({}),h=u([]),m=u({}),D="https://horus-290d.onrender.com",g=Object.assign({"/backend/schemas/aemter-und-gremienaktivitaet-an-der-tu-berlin.json":()=>l(()=>import("./aemter-und-gremienaktivitaet-an-der-tu-berlin-BQ9SG9BF.js"),[]),"/backend/schemas/ausstellungen-und-messen.json":()=>l(()=>import("./ausstellungen-und-messen-DCqfi8Ve.js"),[]),"/backend/schemas/begutachtungs-und-beratungsfunktionen.json":()=>l(()=>import("./begutachtungs-und-beratungsfunktionen-DCx_3Ue0.js"),[]),"/backend/schemas/einrichtung-eines-internationalen-studiengangs.json":()=>l(()=>import("./einrichtung-eines-internationalen-studiengangs-uIXjO-6H.js"),[]),"/backend/schemas/elektronische-veroeffentlichungen.json":()=>l(()=>import("./elektronische-veroeffentlichungen-E5kgDHgz.js"),[]),"/backend/schemas/lehre-pruefungsleistungen-bachelor-master.json":()=>l(()=>import("./lehre-pruefungsleistungen-bachelor-master-DN_QV3z0.js"),[]),"/backend/schemas/organisation-ausrichtung-von-tagungen-konferenzen.json":()=>l(()=>import("./organisation-ausrichtung-von-tagungen-konferenzen-w_FLAAls.js"),[]),"/backend/schemas/publikationen-in-sammelbaenden.json":()=>l(()=>import("./publikationen-in-sammelbaenden-DafC-Z2T.js"),[]),"/backend/schemas/publikationen-in-wissenschaftlichen-fachzeitschriften.json":()=>l(()=>import("./publikationen-in-wissenschaftlichen-fachzeitschriften-CbS1J5ql.js"),[]),"/backend/schemas/tu-interne-promotionen-fakultaetszentrale-erfassung.json":()=>l(()=>import("./tu-interne-promotionen-fakultaetszentrale-erfassung-DEnm8e4g.js"),[]),"/backend/schemas/vortrag-auf-tagungen-konferenzen.json":()=>l(()=>import("./vortrag-auf-tagungen-konferenzen-qU77qAGf.js"),[])});P(async()=>{for(const i in g){const n=await g[i]();if(n.title===v.value){o.value=n.properties,h.value=n.required||[],Object.keys(o.value).forEach(e=>{a.value[e]=""});break}}});function T(){let i=!0;return m.value={},h.value.forEach(n=>{const e=a.value[n];(!e||e==="")&&(m.value[n]="Dieses Feld darf nicht leer sein.",i=!1),o.value[n].type==="integer"&&!Number.isInteger(Number(e))&&(m.value[n]="Bitte nur ganze Zahlen eingeben.",i=!1),o.value[n].type==="number"&&isNaN(e)&&(m.value[n]="Bitte eine gÃ¼ltige Zahl eingeben.",i=!1)}),i}async function O(){if(!T()){alert("Bitte alle Fehler beheben, bevor du das Formular absendest.");return}try{await fetch(`${D}/api/new-activity/${I.value}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({activityTitle:v.value,...a.value})}),alert("Formular erfolgreich gesendet!")}catch(i){console.error("Error submitting form:",i)}}return(i,n)=>(r(),s(f,null,[j(A),c("div",N,[c("h1",F,p(v.value),1),c("form",B,[(r(!0),s(f,null,E(h.value,e=>(r(),s("div",{key:e},[c("label",{class:"form_label",for:e},p(e),9,w),o.value[e].description?(r(),s("p",x,p(o.value[e].description),1)):V("",!0),o.value[e].enum?d((r(),s("select",{key:1,class:"form_input",id:e,"onUpdate:modelValue":t=>a.value[e]=t},[(r(!0),s(f,null,E(o.value[e].enum,t=>(r(),s("option",{key:t,value:t},p(t),9,S))),128))],8,z)),[[R,a.value[e]]]):o.value[e].type==="textarea"?d((r(),s("textarea",{key:2,class:"form_input form_input_textarea",id:e,"onUpdate:modelValue":t=>a.value[e]=t,placeholder:"Bitte "+e+" angeben"},null,8,q)),[[_,a.value[e]]]):o.value[e].type==="integer"?d((r(),s("input",{key:3,step:"1",min:"0",placeholder:"Nur ganze Zahlen",class:"form_input",id:e,"onUpdate:modelValue":t=>a.value[e]=t,type:"number",onKeydown:n[0]||(n[0]=(...t)=>i.preventNonInteger&&i.preventNonInteger(...t))},null,40,M)),[[_,a.value[e]]]):o.value[e].type==="string"?d((r(),s("input",{key:4,class:"form_input",id:e,"onUpdate:modelValue":t=>a.value[e]=t,type:"text",placeholder:"Bitte "+e+" angeben"},null,8,C)),[[_,a.value[e]]]):o.value[e].type==="number"?d((r(),s("input",{key:5,class:"form_input",id:e,"onUpdate:modelValue":t=>a.value[e]=t,type:"number"},null,8,Z)),[[_,a.value[e]]]):o.value[e].type==="date"?d((r(),s("input",{key:6,class:"form_input",id:e,"onUpdate:modelValue":t=>a.value[e]=t,type:"date"},null,8,$)),[[_,a.value[e]]]):V("",!0)]))),128))]),c("button",{class:"form_submit",onClick:n[1]||(n[1]=e=>O())},"Erstellen")])],64))}},Q=U(J,[["__scopeId","data-v-97a31f15"]]);export{Q as default};
