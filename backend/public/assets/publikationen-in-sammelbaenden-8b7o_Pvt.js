import{r as m,c as a,a as x,b as d,t as p,u as s,F as _,i as h,p as S,g as n,e as v,k as i,n as B,m as u}from"./index-DPDcnapp.js";import{_ as I,S as N}from"./Sidenavigation-RB7lK5yz.js";import f from"./publikationen-in-sammelbaenden-DafC-Z2T.js";const A={class:"form_container"},E={class:"form_headline"},T={class:"form"},$=["for"],j={key:0,class:"form_description"},q=["id","onUpdate:modelValue"],C=["value"],F=["id","onUpdate:modelValue","placeholder"],K=["id","onUpdate:modelValue"],L=["id","onUpdate:modelValue","placeholder"],O=["id","onUpdate:modelValue"],P=["id","onUpdate:modelValue"],R={__name:"publikationen-in-sammelbaenden",setup(M){const b=S(),V=m(b.query.userID),t=m({}),l=f.properties,g=f.required||[],U="https://horus-290d.onrender.com";m({}),Object.keys(l).forEach(r=>{t.value[r]=""});async function w(){console.log("formData in frontend: ",t.value);try{const c=await(await fetch(`${U}/api/new-activity/publikationen-in-sammelbaenden/${V.value}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t.value)})).json()}catch(r){console.error("Error submitting form:",r)}}function D(r){!["Backspace","Tab","Enter","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Delete"].includes(r.key)&&!/^\d$/.test(r.key)&&r.preventDefault()}return(r,c)=>(n(),a(_,null,[x(N),d("div",A,[d("h1",E,p(s(f).title),1),d("form",T,[(n(!0),a(_,null,h(s(g),e=>(n(),a("div",{key:e},[d("label",{class:"form_label",for:e},p(e),9,$),s(l)[e].description?(n(),a("p",j,p(s(l)[e].description),1)):v("",!0),s(l)[e].enum?i((n(),a("select",{key:1,class:"form_input",id:e,"onUpdate:modelValue":o=>t.value[e]=o},[(n(!0),a(_,null,h(s(l)[e].enum,o=>(n(),a("option",{key:o,value:o},p(o),9,C))),128))],8,q)),[[B,t.value[e]]]):s(l)[e].type==="textarea"?i((n(),a("textarea",{key:2,class:"form_input form_input_textarea",id:e,"onUpdate:modelValue":o=>t.value[e]=o,placeholder:"Bitte "+e+" angeben"},null,8,F)),[[u,t.value[e]]]):s(l)[e].type==="integer"?i((n(),a("input",{key:3,step:"1",min:"0",placeholder:"Nur ganze Zahlen",class:"form_input",id:e,"onUpdate:modelValue":o=>t.value[e]=o,type:"number",onKeydown:D},null,40,K)),[[u,t.value[e]]]):s(l)[e].type==="string"?i((n(),a("input",{key:4,class:"form_input",id:e,"onUpdate:modelValue":o=>t.value[e]=o,type:"text",placeholder:"Bitte "+e+" angeben"},null,8,L)),[[u,t.value[e]]]):s(l)[e].type==="number"?i((n(),a("input",{key:5,class:"form_input",id:e,"onUpdate:modelValue":o=>t.value[e]=o,type:"number"},null,8,O)),[[u,t.value[e]]]):s(l)[e].type==="date"?i((n(),a("input",{key:6,class:"form_input",id:e,"onUpdate:modelValue":o=>t.value[e]=o,type:"date"},null,8,P)),[[u,t.value[e]]]):v("",!0)]))),128))]),d("button",{class:"form_submit",onClick:c[0]||(c[0]=e=>w())},"Erstellen")])],64))}},y=I(R,[["__scopeId","data-v-c96b50c4"]]);export{y as default};
