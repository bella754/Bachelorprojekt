import{r as h,c as r,a as B,b as d,t as p,u as i,F as m,i as v,p as D,g as s,e as g,k as u,n as x,m as c}from"./index-CYLzpNoR.js";import{_ as F,S as A}from"./Sidenavigation-heGTWfdG.js";import f from"./organisation-ausrichtung-von-tagungen-konferenzen-w_FLAAls.js";const I={class:"form_container"},S={class:"form_headline"},z={class:"form"},T=["for"],K={key:0,class:"form_description"},$=["id","onUpdate:modelValue"],j=["value"],q=["id","onUpdate:modelValue","placeholder"],C=["id","onUpdate:modelValue"],L=["id","onUpdate:modelValue","placeholder"],O=["id","onUpdate:modelValue"],P=["id","onUpdate:modelValue"],R={__name:"organisation-ausrichtung-von-tagungen-konferenzen",setup(Z){const b=D(),V=h(b.query.userID),t=h({}),o=f.properties,_=f.required||[],U="https://horus-290d.onrender.com";Object.keys(o).forEach(a=>{t.value[a]=""});function w(){let a=!0;return fieldErrors.value={},_.forEach(l=>{const e=t.value[l];(!e||e==="")&&(fieldErrors.value[l]="Dieses Feld darf nicht leer sein.",a=!1),o[l].type==="integer"&&(Number.isInteger(Number(e))||(fieldErrors.value[l]="Bitte nur ganze Zahlen eingeben.",a=!1)),o[l].type==="number"&&isNaN(e)&&(fieldErrors.value[l]="Bitte eine gÃ¼ltige Zahl eingeben.",a=!1)}),a}async function E(){if(!w()){alert("Bitte alle Fehler beheben, bevor du das Formular absendest.");return}try{const l=await(await fetch(`${U}/api/new-activity/organisation-ausrichtung-von-tagungen-konferenzen/${V.value}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t.value)})).json();alert("Formular erfolgreich gesendet!")}catch(a){console.error("Error submitting form:",a)}}function N(a){!["Backspace","Tab","Enter","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Delete"].includes(a.key)&&!/^\d$/.test(a.key)&&a.preventDefault()}return(a,l)=>(s(),r(m,null,[B(A),d("div",I,[d("h1",S,p(i(f).title),1),d("form",z,[(s(!0),r(m,null,v(i(_),e=>(s(),r("div",{key:e},[d("label",{class:"form_label",for:e},p(e),9,T),i(o)[e].description?(s(),r("p",K,p(i(o)[e].description),1)):g("",!0),i(o)[e].enum?u((s(),r("select",{key:1,class:"form_input",id:e,"onUpdate:modelValue":n=>t.value[e]=n},[(s(!0),r(m,null,v(i(o)[e].enum,n=>(s(),r("option",{key:n,value:n},p(n),9,j))),128))],8,$)),[[x,t.value[e]]]):i(o)[e].type==="textarea"?u((s(),r("textarea",{key:2,class:"form_input form_input_textarea",id:e,"onUpdate:modelValue":n=>t.value[e]=n,placeholder:"Bitte "+e+" angeben"},null,8,q)),[[c,t.value[e]]]):i(o)[e].type==="integer"?u((s(),r("input",{key:3,step:"1",min:"0",placeholder:"Nur ganze Zahlen",class:"form_input",id:e,"onUpdate:modelValue":n=>t.value[e]=n,type:"number",onKeydown:N},null,40,C)),[[c,t.value[e]]]):i(o)[e].type==="string"?u((s(),r("input",{key:4,class:"form_input",id:e,"onUpdate:modelValue":n=>t.value[e]=n,type:"text",placeholder:"Bitte "+e+" angeben"},null,8,L)),[[c,t.value[e]]]):i(o)[e].type==="number"?u((s(),r("input",{key:5,class:"form_input",id:e,"onUpdate:modelValue":n=>t.value[e]=n,type:"number"},null,8,O)),[[c,t.value[e]]]):i(o)[e].type==="date"?u((s(),r("input",{key:6,class:"form_input",id:e,"onUpdate:modelValue":n=>t.value[e]=n,type:"date"},null,8,P)),[[c,t.value[e]]]):g("",!0)]))),128))]),d("button",{class:"form_submit",onClick:l[0]||(l[0]=e=>E())},"Erstellen")])],64))}},H=F(R,[["__scopeId","data-v-30f8c1f8"]]);export{H as default};
