import{r as g,o as y,g as l,c as f,b as s,a as v,w as o,h as a,u as i,R as r,d as p,e as k,t as w}from"./index-x4Xkvpi-.js";const C="/assets/tu-berlin-logo-C_l78clU.svg",E=(d,t)=>{const n=d.__vccOpts||d;for(const[u,_]of t)n[u]=_;return n},L={key:0},h={key:1,class:"sidenavigation"},x={class:"sidenavigation_header"},B={class:"sidenavigation_links"},N={class:"sidenavigation_footer"},S={class:"sidenavigation_userinfo"},U={__name:"Sidenavigation",setup(d){const t=g(null),n=g(!0),u="https://horus-290d.onrender.com";async function _(){try{const e=await(await fetch(`${u}/current-user`,{method:"GET",headers:{"Content-Type":"application/json"}})).json();e&&e.user&&(t.value=e.user)}catch(c){console.error("Error getting user data:",c)}finally{n.value=!1}}async function m(){window.location.href="https://horus-290d.onrender.com/logout"}return y(_),(c,e)=>n.value?(l(),f("div",L,"Lade Daten...")):(l(),f("div",h,[s("div",x,[e[6]||(e[6]=s("img",{class:"sidenavogation_logo",src:C,alt:"Logo TU Berlin"},null,-1)),s("div",B,[v(i(r),{class:"sidenavigation_link",to:"/"},{default:o(()=>e[1]||(e[1]=[a("Home")])),_:1}),v(i(r),{class:"sidenavigation_link",to:"/my_entries"},{default:o(()=>e[2]||(e[2]=[a("Meine Einträge")])),_:1}),v(i(r),{class:"sidenavigation_link",to:"/new_entry"},{default:o(()=>e[3]||(e[3]=[a("Neuen Eintrag")])),_:1}),t.value.role!=="Standard User"?(l(),p(i(r),{key:0,class:"sidenavigation_link",to:"/all_entries"},{default:o(()=>e[4]||(e[4]=[a("Alle Einträge")])),_:1})):k("",!0),t.value.role=="Controller"?(l(),p(i(r),{key:1,class:"sidenavigation_link",to:"/users"},{default:o(()=>e[5]||(e[5]=[a("Mitarbeitende verwalten")])),_:1})):k("",!0),s("div",{class:"sidenavigation_link",onClick:e[0]||(e[0]=T=>m())},"Logout")])]),s("div",N,[s("div",S,w(t.value.name),1)])]))}},b=E(U,[["__scopeId","data-v-fe37395a"]]);export{b as S,E as _};
